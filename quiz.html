<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>è‘¡è„é…’æ³•å®šç”¢å€æ¨æ¸¬éŠæˆ²</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="bg-gray-100">
    <div id="quiz" class="max-w-xl mx-auto mt-4 p-6 bg-white rounded shadow">
        <div id="progress" class="text-sm text-gray-500 mb-2"></div>
        <div id="question-box" class="mb-4"></div>
        <div id="options-box" class="mb-4"></div>
        <div id="feedback" class="text-lg"></div>
    </div>

    <div class="max-w-xl mx-auto mt-6 flex justify-end">
        <button id="btn-back" class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600">
            é‡æ–°é¸æ“‡é¡Œåº«
        </button>
    </div>

    <audio id="aud-correct" src="sounds/correct.mp3" preload="auto"></audio>
    <audio id="aud-wrong" src="sounds/wrong.mp3" preload="auto"></audio>
    <audio id="aud-click" src="sounds/click.mp3" preload="auto"></audio>

    <script>
        // è«‹æ›¿æ›æˆæ‚¨çš„å¯¦éš› Google Sheets API é‡‘é‘°
        // *** é€™æ˜¯æ‚¨ç•¶å‰æœ€é‡è¦çš„å¾…è¾¦äº‹é …ï¼å‹™å¿…å°‡æ­¤æ›¿æ›ç‚ºæ‚¨çš„æœ‰æ•ˆ API é‡‘é‘°ï¼Œå¦å‰‡æœƒé‡åˆ° 429 éŒ¯èª¤ã€‚***
        const API_KEY = "AIzaSyCn4cdaBpY2Fz4SXUMtpMhAN84YvOQACcQ"; // <-- è«‹æ›¿æ›é€™è£¡ï¼

        // å®šç¾©ä¸åŒåœ‹å®¶è©¦ç®—è¡¨çš„ ID
        const SHEET_INDEX = {
            italy: { id: "1WLrMMYTPRjIxiWueFA1J3rfKzC34xbqver5tqCzP94s" },
            france: { id: "1-8sav2Dl1pi4EfnqNQhpMR0I-TjZhbaIUE6mrC1QbpU" },
            spain: { id: "1EeU1B3AF64S12XOIj9fLi-86_aMNcbmuEdKSBhsCpC4" },
            germany: { id: "1M0yjlT-bXXFhrV-snoGEPw6WhyMSwSEf4O6f7K_zo9o" },
            usa: { id: "1ZsGBl0jHPhQu9nV3k5rJhJ4ZXkkrwSvA6qhY0RaTRxE" },
            hungary: { id: "1Rcf_mH4p1F05MhitSEkcjMaIU2mKmiXi77ifbOjfC14" },
            new_zealand: { id: "1O6TqxxB0YSitH9ySe3pncEx_Zl_kVtcJd2zslBDKw5Y" },
            austria: { id: "1qaxLc9-GMyHgPJCajU0Cs0-vrI4nRFsqn1Y3nvj_-m8" },
            portugal: { id: "18GCPNoDPXu9EcfPd0EmnpEJb0DsP7vQaoAdbGo9cMs4" },
            chile: { id: "1Dv2jeGsefsuCCyuu8uvMKkHd9NgNa7tV0Woo9FrBNEY" },
            south_africa: { id: "1qE_4coepB5_vevCF4KLzDq7MMnrLtgU5foTN8e4nmLY" }, // ä½¿ç”¨æ‚¨æä¾›çš„ç¬¬ä¸€å€‹ ID
            argentina: { id: "1qE_4coepB5_vevCF4KLzDq7MMnrLtgU5foTN8e4nmLY" } // ä½¿ç”¨æ‚¨æä¾›çš„ç¬¬äºŒå€‹ ID
        };

        // å…¨å±€è®Šæ•¸ï¼Œç”¨æ–¼å„²å­˜æ‰€æœ‰é¡Œç›®ã€ç•¶å‰é¡Œç›®ç´¢å¼•ã€åˆ†æ•¸ã€é›£åº¦åŠé–‹å§‹æ™‚é–“
        let allQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let difficulty = "easy";
        let startTime = 0;

        // å–å¾—ä¸»è¦æ¸¬é©—ç›¸é—œçš„ DOM å…ƒç´ å¼•ç”¨
        const quizContainer = document.getElementById("quiz");
        const questionBox = document.getElementById("question-box");
        const optionsBox = document.getElementById("options-box");
        const feedback = document.getElementById("feedback");
        const progressIndicator = document.getElementById("progress");

        /**
         * ç•°æ­¥å‡½æ•¸ï¼šè¼‰å…¥æ¸¬é©—é¡Œç›®è³‡æ–™
         * å¾ localStorage ç²å–ç”¨æˆ¶é¸æ“‡çš„å€åŸŸå’Œé›£åº¦ï¼Œ
         * ç„¶å¾Œä½¿ç”¨ Google Sheets API ç²å–è³‡æ–™ã€‚
         */
        async function loadQuizData() {
            // åœ¨è¼‰å…¥è³‡æ–™æ™‚é¡¯ç¤ºã€Œè¼‰å…¥ä¸­...ã€è¨Šæ¯
            quizContainer.innerHTML = '<p class="text-center text-gray-500">è¼‰å…¥é¡Œç›®ä¸­...</p>';

            const selected = JSON.parse(localStorage.getItem("selectedRegions") || "[]");
            difficulty = localStorage.getItem("difficulty") || "easy";

            // å¦‚æœæ²’æœ‰é¸æ“‡ä»»ä½•å€åŸŸï¼Œå‰‡é¡¯ç¤ºæç¤ºè¨Šæ¯ä¸¦åœæ­¢è¼‰å…¥
            if (selected.length === 0) {
                quizContainer.innerHTML = '<p class="text-center text-red-500">è«‹å…ˆåœ¨é¡Œåº«é¸æ“‡é é¢é¸æ“‡è¦ç·´ç¿’çš„ç”¢å€ã€‚</p>';
                return; // åœæ­¢åŸ·è¡Œå¾ŒçºŒç¨‹å¼ç¢¼
            }

            try {
                // éæ­·æ‰€æœ‰é¸å®šçš„å€åŸŸï¼Œä¸¦ç‚ºæ¯å€‹å€åŸŸç™¼èµ·è³‡æ–™ç²å–è«‹æ±‚
                const fetches = selected.map(async key => {
                    const [countryKey, sheetName] = key.split("__"); // å¾ key ä¸­è§£æåœ‹å®¶éµå’Œè©¦ç®—è¡¨åç¨±
                    const sheetId = SHEET_INDEX[countryKey].id; // æ ¹æ“šåœ‹å®¶éµç²å–è©¦ç®—è¡¨ ID
                    const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${sheetName}?key=${API_KEY}`;
                    const res = await fetch(url);
                    // æª¢æŸ¥ HTTP éŸ¿æ‡‰æ˜¯å¦æˆåŠŸ
                    if (!res.ok) {
                        throw new Error(`HTTP éŒ¯èª¤ï¼ç‹€æ…‹ç¢¼ï¼š${res.status}ï¼Œç¶²å€ï¼š${url}`);
                    }
                    const data = await res.json();
                    const rows = data.values;
                    // ç¢ºä¿æœ‰æ¨™é¡Œè¡Œå’Œè‡³å°‘ä¸€è¡Œè³‡æ–™
                    if (!rows || rows.length < 2) {
                        console.warn(`æœªæ‰¾åˆ° ${key} çš„è³‡æ–™æˆ–åªæœ‰æ¨™é¡Œã€‚`);
                        return []; // è¿”å›ç©ºé™£åˆ—
                    }
                    const headers = rows[0]; // ç¬¬ä¸€è¡Œç‚ºæ¨™é¡Œè¡Œ
                    // å°‡è³‡æ–™è¡Œè½‰æ›ç‚ºç‰©ä»¶é™£åˆ—
                    return rows.slice(1).map(row => {
                        const obj = {};
                        headers.forEach((h, i) => obj[h] = row[i] || "");
                        return obj;
                    });
                });

                // ç­‰å¾…æ‰€æœ‰è³‡æ–™ç²å–è«‹æ±‚å®Œæˆï¼Œä¸¦å°‡çµæœæ‰å¹³åŒ–æˆä¸€å€‹é™£åˆ—
                const results = await Promise.all(fetches);
                allQuestions = results.flat();

                // å¦‚æœè¼‰å…¥å¾Œæ²’æœ‰ä»»ä½•é¡Œç›®ï¼Œé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
                if (allQuestions.length === 0) {
                    quizContainer.innerHTML = '<p class="text-center text-red-500">æœªèƒ½è¼‰å…¥ä»»ä½•é¡Œç›®ï¼Œè«‹æª¢æŸ¥æ‰€é¸é¡Œåº«æ˜¯å¦æœ‰è³‡æ–™ã€‚</p>';
                    return;
                }

                shuffle(allQuestions); // éš¨æ©Ÿæ‰“äº‚é¡Œç›®é †åº
                startQuiz(); // é–‹å§‹æ¸¬é©—

            } catch (error) {
                // è™•ç†è¼‰å…¥è³‡æ–™æ™‚çš„éŒ¯èª¤
                console.error("è¼‰å…¥æ¸¬é©—è³‡æ–™æ™‚å‡ºéŒ¯ï¼š", error);
                quizContainer.innerHTML = `<p class="text-center text-red-500">è¼‰å…¥é¡Œç›®å¤±æ•—ï¼š${error.message}ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šæˆ– API é‡‘é‘°æ˜¯å¦æ­£ç¢ºã€‚</p>`;
            }
        }

        /**
         * é–‹å§‹æ¸¬é©—
         * åˆå§‹åŒ–åˆ†æ•¸ã€é¡Œç›®ç´¢å¼•å’Œè¨ˆæ™‚å™¨ï¼Œä¸¦æ¸²æŸ“ç¬¬ä¸€é“é¡Œç›®ã€‚
         */
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            startTime = Date.now();
            // æ¸…é™¤ quizContainer ä¹‹å‰çš„å…§å®¹ï¼Œä¸¦é‡æ–°å»ºç«‹æ¸¬é©—æ‰€éœ€çš„åŸºæœ¬ DOM çµæ§‹
            // é€™æ˜¯ç‚ºäº†ç¢ºä¿åœ¨é‡æ–°é–‹å§‹æ¸¬é©—æ™‚ï¼Œç•«é¢å›åˆ°åˆå§‹ç‹€æ…‹
            quizContainer.innerHTML = `
                <div id="progress" class="text-sm text-gray-500 mb-2"></div>
                <div id="question-box" class="mb-4"></div>
                <div id="options-box" class="mb-4"></div>
                <div id="feedback" class="text-lg"></div>
            `;
            // æ³¨æ„ï¼šå¦‚æœåœ¨ startQuiz ä¸­æ¸…ç©ºäº† quizContainer.innerHTMLï¼Œ
            // å‰‡ quizContainer, questionBox, optionsBox, feedback, progressIndicator
            // é€™äº›å…¨å±€è®Šæ•¸çš„å¼•ç”¨éœ€è¦é‡æ–°ç²å–ï¼Œæˆ–ç¢ºä¿é€™äº› DOM å…ƒç´ åœ¨çµæ§‹ä¸­æ˜¯éœæ…‹çš„ã€‚
            // åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œç”±æ–¼é€™äº›å…ƒç´ åœ¨ showResult æ™‚æœƒè¢«æ›¿æ›ï¼Œä½†åœ¨ startQuiz æ™‚å…¶å¯¦ä¸éœ€è¦é‡æ–°ç²å–ï¼Œ
            // å› ç‚ºå®ƒå€‘æ˜¯ `quiz` div å…§éƒ¨é å…ˆå­˜åœ¨çš„çµæ§‹ã€‚
            renderQuestion(); // æ¸²æŸ“ç¬¬ä¸€é“é¡Œç›®
        }

        /**
         * æ¸²æŸ“é¡Œç›®åˆ°é é¢
         * æ ¹æ“šç•¶å‰é¡Œç›®ç´¢å¼•å’Œé›£åº¦é¡¯ç¤ºé¡Œç›®å…§å®¹å’Œé¸é …ã€‚
         */
        function renderQuestion() {
            const q = allQuestions[currentQuestionIndex];
            // å¦‚æœæ²’æœ‰æ›´å¤šé¡Œç›®ï¼Œå‰‡é¡¯ç¤ºçµæœ
            if (!q) {
                showResult();
                return;
            }

            let questionText = "";
            if (difficulty === "easy") {
                // ç°¡æ˜“æ¨¡å¼é¡¯ç¤ºæ‰€æœ‰ç›¸é—œè³‡è¨Š
                questionText = `
                    <div class="mb-2">é€™æ˜¯æ¬¾ä¾†è‡ª<b>${q.Country}</b> çš„ <b>${q.Classification}</b></div>
                    <div class="mb-2">é…’çš„é¡å‹æ˜¯ï¼š<b>${q.Wine_type}</b>, <b>${q.Sub_type}</b></div>
                    <div class="mb-2">ä¸»è¦è‘¡è„å“ç¨®ç‚ºï¼š<b>${q.Grape_1}</b></div>
                    <div class="mb-2">æ˜¯å¦æ··é‡€ï¼š<b>${q.Is_blend}</b></div>
                    <div class="mb-2">æ¬¡è¦è‘¡è„å“ç¨®ç‚ºï¼š<b>${q.Grape_2}</b></div>
                    <div class="mb-2">æ¬¡ç”¢å€ï¼š<b>${q.Sub_region}</b></div>
                    <div class="my-4 font-semibold">è«‹å•é€™æ˜¯å“ªå€‹æ³•å®šç”¢å€ï¼Ÿ</div>
                `;
            } else {
                // ä¸€èˆ¬æ¨¡å¼åªé¡¯ç¤ºéƒ¨åˆ†è³‡è¨Š
                questionText = `
                    é€™æ˜¯æ¬¾ã€${q.Wine_type}ã€‘ï¼Œ<br/>
                    ä¸»è¦ä½¿ç”¨ã€${q.Grape_1}ã€‘é‡€è£½ï¼Œ<br/>
                    è«‹å•é€™æ˜¯å“ªå€‹æ³•å®šç”¢å€?
                `;
            }
            questionBox.innerHTML = questionText; // å°‡é¡Œç›®å…§å®¹æ”¾å…¥é¡Œç›®å€

            // æ›´æ–°é€²åº¦é¡¯ç¤º
            progressIndicator.textContent = `ç¬¬ ${currentQuestionIndex + 1} é¡Œ / å…± ${allQuestions.length} é¡Œ`;

            // é¡Œç›®é¸é …ï¼šéš¨æ©ŸæŒ‘é¸ 4 å€‹ç”¢å€ï¼ˆå«æ­£ç¢ºç­”æ¡ˆï¼‰
            const correct = q.Appellation;
            const options = [correct]; // å°‡æ­£ç¢ºç­”æ¡ˆåŠ å…¥é¸é …
            while (options.length < 4) {
                // éš¨æ©Ÿå¾æ‰€æœ‰é¡Œç›®ä¸­æŒ‘é¸ä¸€å€‹ç”¢å€ä½œç‚ºéŒ¯èª¤é¸é …ï¼Œç¢ºä¿ä¸é‡è¤‡
                const randQuestion = allQuestions[Math.floor(Math.random() * allQuestions.length)];
                if (randQuestion && !options.includes(randQuestion.Appellation)) {
                    options.push(randQuestion.Appellation);
                }
            }
            shuffle(options); // æ‰“äº‚é¸é …é †åº

            optionsBox.innerHTML = ""; // æ¸…ç©ºèˆŠé¸é …
            options.forEach(option => {
                const btn = document.createElement("button"); // å‰µå»ºæŒ‰éˆ•å…ƒç´ 
                btn.textContent = option; // è¨­å®šæŒ‰éˆ•æ–‡å­—
                btn.className = "block w-full text-left px-4 py-2 mb-2 bg-white border rounded hover:bg-blue-100"; // è¨­å®šæŒ‰éˆ•æ¨£å¼
                btn.onclick = () => checkAnswer(option, correct); // è¨­å®šé»æ“Šäº‹ä»¶è™•ç†å™¨
                optionsBox.appendChild(btn); // å°‡æŒ‰éˆ•åŠ å…¥é¸é …å€
            });
            feedback.textContent = ""; // æ¸…é™¤ä¸Šä¸€é¡Œçš„å›é¥‹è¨Šæ¯
        }

        /**
         * æª¢æŸ¥ç”¨æˆ¶é¸æ“‡çš„ç­”æ¡ˆ
         * æ ¹æ“šé¸æ“‡çš„ç­”æ¡ˆæ˜¯å¦æ­£ç¢ºæ›´æ–°åˆ†æ•¸ä¸¦é¡¯ç¤ºå›é¥‹è¨Šæ¯ã€‚
         */
        function checkAnswer(selected, correct) {
            // ç¦ç”¨æ‰€æœ‰é¸é …æŒ‰éˆ•ï¼Œé˜²æ­¢é‡è¤‡é»æ“Š
            Array.from(optionsBox.children).forEach(button => {
                button.disabled = true; // ç¦ç”¨æŒ‰éˆ•
                if (button.textContent === correct) {
                    button.classList.add("border-green-500", "bg-green-100", "font-bold"); // æ­£ç¢ºç­”æ¡ˆé¡¯ç¤ºç¶ è‰²
                } else if (button.textContent === selected) {
                    button.classList.add("border-red-500", "bg-red-100"); // éŒ¯èª¤ç­”æ¡ˆé¡¯ç¤ºç´…è‰²
                }
            });

            if (selected === correct) {
                score++; // åˆ†æ•¸å¢åŠ 
                feedback.textContent = "ç­”å°äº†ï¼";
                feedback.className = "text-green-600 mb-4 font-bold"; // ç¶ è‰²å­—é«”
                playSound("correct"); // æ’­æ”¾æ­£ç¢ºéŸ³æ•ˆ
            } else {
                feedback.textContent = `ç­”éŒ¯äº†ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}`;
                feedback.className = "text-red-600 mb-4 font-bold"; // ç´…è‰²å­—é«”
                playSound("wrong"); // æ’­æ”¾éŒ¯èª¤éŸ³æ•ˆ
            }

            // é€²å…¥ä¸‹ä¸€é¡Œæˆ–é¡¯ç¤ºçµæœ
            currentQuestionIndex++;
            if (currentQuestionIndex < allQuestions.length) {
                setTimeout(() => {
                    renderQuestion(); // å»¶é²ä¸€æ®µæ™‚é–“å¾Œæ¸²æŸ“ä¸‹ä¸€é¡Œ
                }, 1500); // 1.5 ç§’å¾Œ
            } else {
                setTimeout(showResult, 1500); // 1.5 ç§’å¾Œé¡¯ç¤ºçµæœ
            }
        }

        /**
         * é¡¯ç¤ºæ¸¬é©—çµæœ
         * è¨ˆç®—ç¸½è€—æ™‚ï¼Œé¡¯ç¤ºå¾—åˆ†ï¼Œä¸¦æä¾›å„²å­˜æˆç¸¾åˆ°æ’è¡Œæ¦œçš„åŠŸèƒ½ã€‚
         */
        function showResult() {
            const totalTime = Math.round((Date.now() - startTime) / 1000); // è¨ˆç®—ç¸½è€—æ™‚ï¼ˆç§’ï¼‰
            const totalQ = allQuestions.length; // ç¸½é¡Œç›®æ•¸

            // æ›´æ–° quizContainer çš„å…§å®¹ï¼Œé¡¯ç¤ºçµæœé é¢
            quizContainer.innerHTML = `
                <div class="text-xl font-bold mb-4">ğŸ‰ æ¸¬é©—å®Œæˆï¼</div>
                <div class="mb-2">å¾—åˆ†ï¼š${score} / ${totalQ}</div>
                <div class="mb-4">è€—æ™‚ï¼š${totalTime} ç§’ã€€ï½œã€€é›£åº¦ï¼š${difficulty}</div>
                <input id="player-name" type="text" placeholder="è¼¸å…¥æš±ç¨±å„²å­˜æˆç¸¾"
                        class="border px-3 py-1 rounded w-full mb-4" />
                <button id="save-btn" class="w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mb-6">å„²å­˜åˆ°æ’è¡Œæ¦œ</button>
                <h3 class="font-semibold mb-2">ğŸ† æ’è¡Œæ¦œï¼ˆå‰ 10 åï¼‰</h3>
                <ol id="board" class="list-decimal list-inside mb-6"></ol>
                <button onclick="toSelectPage()" class="w-full py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                    é‡æ–°é¸æ“‡é¡Œåº«
                </button>
            `;

            // ç‚ºå„²å­˜æŒ‰éˆ•ç¶å®šäº‹ä»¶
            document.getElementById("save-btn").onclick = () =>
                saveLeaderboard(totalQ, totalTime);

            renderBoard(); // æ¸²æŸ“æ’è¡Œæ¦œ
        }

        /**
         * å„²å­˜æˆç¸¾åˆ°æœ¬åœ°å„²å­˜çš„æ’è¡Œæ¦œä¸­
         */
        function saveLeaderboard(totalQ, totalTime) {
            const name = document.getElementById("player-name").value.trim() || "ç©å®¶"; // ç²å–ç©å®¶æš±ç¨±ï¼Œå¦‚æœç‚ºç©ºå‰‡é è¨­ç‚ºã€Œç©å®¶ã€
            const record = {
                name,
                score,
                totalQ,
                time: totalTime,
                difficulty,
                date: new Date().toLocaleString() // è¨˜éŒ„ç•¶å‰æ™‚é–“
            };

            const board = JSON.parse(localStorage.getItem("leaderboard") || "[]"); // å¾æœ¬åœ°å„²å­˜ç²å–æ’è¡Œæ¦œè³‡æ–™
            board.push(record); // æ·»åŠ æ–°ç´€éŒ„
            board.sort((a, b) => b.score - a.score || a.time - b.time); // æ’åºï¼šåˆ†æ•¸é«˜çš„åœ¨å‰ï¼Œåˆ†æ•¸ç›¸åŒå‰‡æ™‚é–“çŸ­çš„åœ¨å‰
            localStorage.setItem("leaderboard", JSON.stringify(board.slice(0, 10))); // åªä¿ç•™å‰ 10 å
            renderBoard(); // é‡æ–°æ¸²æŸ“æ’è¡Œæ¦œ
            document.getElementById("player-name").value = ""; // æ¸…ç©ºæš±ç¨±è¼¸å…¥æ¡†
        }

        /**
         * æ¸²æŸ“æ’è¡Œæ¦œåˆ°é é¢
         */
        function renderBoard() {
            const list = document.getElementById("board");
            if (!list) return; // å¦‚æœæ’è¡Œæ¦œå…ƒç´ é‚„ä¸å­˜åœ¨ï¼Œå‰‡é€€å‡º (ä¾‹å¦‚åœ¨ showResult ä¹‹å‰)
            const board = JSON.parse(localStorage.getItem("leaderboard") || "[]");
            list.innerHTML = board
                .map(
                    (r, i) =>
                        `<li>${r.name} - ${r.score}/${r.totalQ} åˆ† - ${r.time}s - ${r.difficulty.toUpperCase()} - ${r.date}</li>`
                )
                .join(""); // å°‡æ’è¡Œæ¦œè³‡æ–™è½‰æ›ç‚º HTML åˆ—è¡¨é …
        }

        /**
         * æ´—ç‰Œæ¼”ç®—æ³• (Fisher-Yates shuffle)
         * éš¨æ©Ÿæ‰“äº‚é™£åˆ—é †åºã€‚
         */
        function shuffle(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]]; // äº¤æ›å…ƒç´ 
            }
            return arr;
        }

        /**
         * æ’­æ”¾éŸ³æ•ˆ
         */
        function playSound(type) {
            const aud = document.getElementById(`aud-${type}`);
            if (aud) {
                aud.currentTime = 0; // å°‡éŸ³æ•ˆæ’­æ”¾ä½ç½®é‡ç½®åˆ°é–‹é ­ï¼Œç¢ºä¿æ¯æ¬¡éƒ½èƒ½å®Œæ•´æ’­æ”¾
                // ä½¿ç”¨ Promise è™•ç† play() æ–¹æ³•ï¼Œæ•ç²æ½›åœ¨çš„è‡ªå‹•æ’­æ”¾éŒ¯èª¤
                aud.play().catch(e => console.warn(`éŸ³æ•ˆæ’­æ”¾å¤±æ•— (${type}):`, e));
            }
        }

        /**
         * è·³è½‰åˆ°é¸æ“‡é¡Œåº«é é¢
         */
        function toSelectPage() {
            location.href = "select.html";
        }

        // äº‹ä»¶ç›£è½å™¨
        document.getElementById("btn-back").onclick = toSelectPage; // ç‚ºè¿”å›æŒ‰éˆ•ç¶å®šäº‹ä»¶
        window.onload = loadQuizData; // é é¢è¼‰å…¥å®Œæˆå¾Œé–‹å§‹è¼‰å…¥æ¸¬é©—è³‡æ–™
    </script>
</body>
</html>
